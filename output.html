<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>다운로드</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="output.css">
    <link rel="shortcut icon" href="icon.png">
</head>
<style>
    /* 이미지 컨테이너와 동그라미 스타일 */
    .imageContainer {
            position: relative;
            width: 1000px; /* 이미지 크기에 맞춰 수정 */
            height: auto; /* 이미지 크기에 맞춰 수정 */
            border: 1px solid #000;
        }

        /* 공통 동그라미 스타일 */
        .circle {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 2px solid rgb(0, 201, 201);
        position: absolute; /* 이미지 내부에서 고정 */
        opacity: 0.3; /* 투명도 50% */
    }

        /* 텍스트 스타일 */
        .text {
            position: absolute;
            color: #ff9090;
            font-size: 14px;
            font-weight: bold;
        }
        .text1 {
        position: absolute;
        color: #C70000;
        font-size: 14px;
        width: 30%; /* 너비를 자동으로 조정 */
        font-weight: bold;
        word-break: break-word; /* 단어가 너무 길면 줄바꿈 */
}

.text1:nth-of-type(1) {
    white-space: normal; /* 줄바꿈을 허용 */
}

</style>
<body>
    
    <form id="capture">
        <div class="imageContainer" id="imageContainer">
            <div class="circle" style="top: 16.5%; left: 2.2%;" name="RT"></div>
            <div class="circle" style="top: 16.5%; left: 5.5%;" name="heart"></div>
            <div class="circle" style="top: 16.5%; left: 10%;" name="timeline"></div>
            <div class="circle" style="top: 16.5%; left: 14.8%;" name="subscribe"></div>
            <div class="circle" style="top: 16.5%; left: 18.5%;" name="day"></div>
            <div class="circle" style="top: 16.5%; left: 22.6%;" name="yook"></div>
            <div class="circle" style="top: 21.2%; left: 4%;" name="suhee"></div>
            <div class="circle" style="top: 34.5%; left: 2.2%;" name="HL"></div>
            <div class="circle" style="top: 34.5%; left: 5.2%;" name="BL"></div>
            <div class="circle" style="top: 34.5%; left: 8.2%;" name="GL"></div>
            <div class="circle" style="top: 34.5%; left: 11.5%;" name="NCP"></div>
            <div class="circle" style="top: 34.5%; left: 14.7%;" name="dream"></div>
            <div class="circle" style="top: 39%; left: 2%;" name="write"></div>
            <div class="circle" style="top: 39%; left: 5%;" name="picture"></div>
            <div class="circle" style="top: 39%; left: 8%;" name="sul"></div>
            <div class="circle" style="top: 39%; left: 10.9%;" name="sall"></div>
            <div class="circle" style="top: 39%; left: 15%;" name="cosplay"></div>
            <div class="circle" style="top: 44%; left: 2.5%;" name="mp4"></div>
            <div class="circle" style="top: 44%; left: 6.7%;" name="MMD"></div>
            <div class="circle" style="top: 44%; left: 10.4%;" name="goodz"></div>
            <div class="circle" style="top: 65.2%; left: 2.8%;" name="have"></div>
            <div class="circle" style="top: 65.2%; left: 20.6%;" name="have2"></div>
            <div class="circle" style="top: 76.8%; left: 4%;" name="sad"></div>
            <div class="circle" style="top: 76.8%; left: 10.2%;" name="sad2"></div>
            <div class="circle" style="top: 76.8%; left: 15.6%;" name="sad3"></div>
            <div class="circle" style="top: 87.3%; left: 2.7%;" name="age"></div>
            <div class="circle" style="top: 87.3%; left: 7.8%;" name="age2"></div>
            <div class="circle" style="top: 87.3%; left: 13.5%;" name="age3"></div>
            <div class="circle" style="top: 91.4%; left: 2.7%;" name="sex"></div>
            <div class="circle" style="top: 91.4%; left: 7.8%;" name="sex2"></div>
            <div class="circle" style="top: 91.4%; left: 13.5%;" name="sex3"></div>
            <div class="circle" style="top: 29.4%; left: 35.5%;" name="sever"></div>
            <div class="circle" style="top: 29.4%; left: 40.3%;" name="sever2"></div>
            <div class="circle" style="top: 29.4%; left: 46.4%;" name="sever3"></div>
            <div class="circle" style="top: 29.4%; left: 53.1%;" name="sever4"></div>
            <div class="circle" style="top: 38%; left: 37.4%;" name="Mobile"></div>
            <div class="circle" style="top: 38%; left: 41.4%;" name="PCC"></div>
            <div class="circle" style="top: 38%; left: 47%;" name="Playstation"></div>
            <div class="circle" style="top: 52.9%; left: 33%;" name="screenshot"></div>
            <div class="circle" style="top: 52.9%; left: 38.5%;" name="everyone"></div>
            <div class="circle" style="top: 52.9%; left: 44%;" name="nasaun"></div>
            <div class="circle" style="top: 52.9%; left: 49.7%;" name="world"></div>
            <div class="circle" style="top: 52.9%; left: 55.5%;" name="levelup"></div>
            <div class="circle" style="top: 57.7%; left: 35%;" name="sevenking"></div>
    
            <!-- 텍스트 -->
            <div class="text" style="top: 65.8%; left: 6.2%;" id="inputText">inputText</div> 
            <div class="text" style="top: 44.3%; left: 17%;" id="anyone">anyone</div>
            <div class="text" style="top: 53%; left: 3%;" id="me">me</div>
            <div class="text" style="top: 21%; left: 38%;" id="level">level</div>
            <div class="text" style="top: 13%; left: 41%;" id="gameid">gameid</div>
            <div class="text1" style="top: 74%; left: 33.5%; " id="say">say</div>
            <div class="text" style="top: 58.3%; left: 44.5%;" id="anyyy">anyyy</div>
        </div>
    </form>
    <button id="saveBtn" class="w-btn-neon2" style="text-align: center; position: absolute; top: 90%; left: 45%;">저장하기</button>
    <br>
    <script src="../fontjs/Pretendard.js"></script>
    <script src="../fontjs/MobilePOP.js"></script>
    <script src="../fontjs/base.js"></script>
    <script>
window.onload = function() {
    var params = getQueryParams();
    const RT = document.querySelector('div[name="RT"]');
    const heart = document.querySelector('div[name="heart"]');
    const timeline = document.querySelector('div[name="timeline"]');
    const subscribe = document.querySelector('div[name="subscribe"]');
    const day = document.querySelector('div[name="day"]');
    const yook = document.querySelector('div[name="yook"]');
    const suhee = document.querySelector('div[name="suhee"]');
    const HL = document.querySelector('div[name="HL"]');
    const BL = document.querySelector('div[name="BL"]');
    const GL = document.querySelector('div[name="GL"]');
    const NCP = document.querySelector('div[name="NCP"]');
    const dream = document.querySelector('div[name="dream"]');
    const write = document.querySelector('div[name="write"]');
    const picture = document.querySelector('div[name="picture"]');
    const sul = document.querySelector('div[name="sul"]');
    const sall = document.querySelector('div[name="sall"]');
    const cosplay = document.querySelector('div[name="cosplay"]');
    const mp4 = document.querySelector('div[name="mp4"]');
    const MMD = document.querySelector('div[name="MMD"]');
    const goodz = document.querySelector('div[name="goodz"]');
    const have = document.querySelector('div[name="have"]');
    const have2 = document.querySelector('div[name="have2"]');
    const sad = document.querySelector('div[name="sad"]');
    const sad2 = document.querySelector('div[name="sad2"]');
    const sad3 = document.querySelector('div[name="sad3"]');
    const age = document.querySelector('div[name="age"]');
    const age2 = document.querySelector('div[name="age2"]');
    const age3 = document.querySelector('div[name="age3"]');
    const sex = document.querySelector('div[name="sex"]');
    const sex2 = document.querySelector('div[name="sex2"]');
    const sex3 = document.querySelector('div[name="sex3"]');
    const sever = document.querySelector('div[name="sever"]');
    const sever2 = document.querySelector('div[name="sever2"]');
    const sever3 = document.querySelector('div[name="sever3"]');
    const sever4 = document.querySelector('div[name="sever4"]');
    const Mobile = document.querySelector('div[name="Mobile"]');
    const PCC = document.querySelector('div[name="PCC"]');
    const Playstation = document.querySelector('div[name="Playstation"]');
    const screenshot = document.querySelector('div[name="screenshot"]');
    const everyone = document.querySelector('div[name="everyone"]');
    const nasaun = document.querySelector('div[name="nasaun"]');
    const world = document.querySelector('div[name="world"]');
    const levelup = document.querySelector('div[name="levelup"]');
    const sevenking = document.querySelector('div[name="sevenking"]');
    RT.style.display = "none";
    heart.style.display = "none";
    timeline.style.display = "none";
    subscribe.style.display = "none";
    day.style.display = "none";
    yook.style.display = "none";
    suhee.style.display = "none";
    HL.style.display = "none";
    BL.style.display = "none";
    GL.style.display = "none";
    NCP.style.display = "none";
    dream.style.display = "none";
    write.style.display = "none";
    picture.style.display = "none";
    sul.style.display = "none";
    sall.style.display = "none";
    cosplay.style.display = "none";
    mp4.style.display = "none";
    MMD.style.display = "none";
    goodz.style.display = "none";
    have.style.display = "none";
    have2.style.display = "none";
    sad.style.display = "none";
    sad2.style.display = "none";
    sad3.style.display = "none";
    age.style.display = "none";
    age2.style.display = "none";
    age3.style.display = "none";
    sex.style.display = "none";
    sex2.style.display = "none";
    sex3.style.display = "none";
    sever.style.display = "none";
    sever2.style.display = "none";
    sever3.style.display = "none";
    sever4.style.display = "none";
    Mobile.style.display = "none";
    PCC.style.display = "none";
    Playstation.style.display = "none";
    screenshot.style.display = "none";
    everyone.style.display = "none";
    nasaun.style.display = "none";
    world.style.display = "none";
    levelup.style.display = "none";
    sevenking.style.display = "none";
    const img = document.createElement("img");
    mappick(params)
    mappicks(params)
    mappickss(params)
}
function getQueryParams() {
    var params = {};
    var queryString = window.location.search.substring(1);
    var queries = queryString.split("&");
    for (var i = 0; i < queries.length; i++) {
        var pair = queries[i].split("=");
        params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
    }
    return params;
}

    document.getElementById("saveBtn").addEventListener("click", function() {
    const element = document.getElementById("imageContainer"); // 캡처할 요소
    html2canvas(element, {
        backgroundColor: null, // 배경을 투명하게 설정
        scale: 2 // 이미지 품질을 위해 스케일 조정
    }).then(function(canvas) {
        const link = document.createElement('a');
        link.href = canvas.toDataURL(); // 이미지 URL 생성
        link.download = 'capture.png'; // 파일 이름 설정
        link.click(); // 다운로드 실행
    });
});

    </script>
</body>
</html>
